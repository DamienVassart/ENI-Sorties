{% extends 'base.html.twig' %}

{% block title %}
    {{ sortie.nom }} | {{ parent() }}
{% endblock %}

{% block body %}
    <div id="sortie-details">
        <h1>{{ sortie.nom }}</h1>
        <section id="infos-sortie">
            <h2>Infos</h2>
            {# todo on pourrait mettre les infos sous forme de tableau pour que ce soit plus lisible #}
            <div><i>Date et heure de sortie :</i> le {{ sortie.dateHeureDebut.format('d/m/Y') }} à {{ sortie.dateHeureDebut.format('h:m') }}</div>
            <div><i>Durée :</i> {{ sortie.duree }} minutes</div>
            <div><i>Date limite d'inscription :</i> {{ sortie.dateLimiteInscription.format('d/m/Y') }}</div>
            <div><i>Nombre maximum de participants :</i> {{ sortie.nbInscriptionsMax }}</div>
            <div><i>Informations sortie :</i> {{ sortie.infosSortie }}</div>
            <div><i>Campus :</i> {{ campus.nom }}</div>
        </section>

        <section id="lieu">
            <h2>Lieu</h2>
            <div><i>Nom du lieu :</i> {{ lieu.nom }}</div>
            <div><i>Rue :</i> {{ lieu.rue }}</div>
            <div><i>ode Postal :</i> {{ ville.codePostal }}</div>
            <div><i>Ville :</i> {{ ville.nom }}</div>
            <div><i>Latitude :</i> {{ lieu.latitude }}</div>
            <div><i>Longitude :</i> {{ lieu.longitude }}</div>
        </section>

        {# Auteur de la section "Participants": Damien Vassart #}
        <section id="participants">
            <h2>Participants</h2>
            {% if participants | length > 0 %}
                <table id="tableau-participants">
                    <thead>
                    <tr>
                        <td>Pseudo</td>
                        <td>Nom</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for participant in participants %}
                        <tr>
                            <td>{{ participant.pseudo }}</td>
                            <td>{{ participant.prenom}} {{ participant.nom }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>Personne ne s'est encore inscrit à cette sortie</p>
            {% endif %}
        </section>
    </div>
{% endblock %}